<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Weekly Spending Tracker</title>
  <style>
    :root{
      --max-width: 560px;               /* overall width cap */
      --gap: 16px;                      /* space between items */
      --btn-radius: 12px;
      --blue: #0a7cff;
      --blue-hover:#0566d1;
      --danger:#dc3545;
    }

    body{
      font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,sans-serif;
      margin:0;
      background:#f7f7f7;
      -webkit-font-smoothing:antialiased;
      padding: 14px 14px calc(120px + env(safe-area-inset-bottom)); /* space for sticky footer */
      display:flex;
      justify-content:center;
    }

    .wrap{
      width: min(96vw, var(--max-width));
    }

    h1{
      margin: 6px 0 18px;
      text-align:center;
      font-weight: 800;
      font-size: clamp(28px, 6.2vw, 36px); /* bigger title */
    }

    .categories{
      display:grid;
      grid-template-columns: repeat(3, minmax(100px, 1fr)); /* 3 columns */
      gap: var(--gap);
    }

    .cat{
      display:flex;
      flex-direction:column;
      align-items:center;
    }

    .cat button{
      width:100%;
      border:none;
      border-radius: var(--btn-radius);
      background: var(--blue);
      color:#fff;
      cursor:pointer;
      padding: clamp(14px, 3.8vw, 18px);
      font-weight: 800;
      font-size: clamp(18px, 4.8vw, 24px);  /* bigger button text */
      box-shadow: 0 3px 8px rgba(0,0,0,.12);
      transition: background .15s ease, transform .05s ease;
    }
    .cat button:active{ transform: scale(.98); }
    .cat button:hover{ background: var(--blue-hover); }

    .amount{
      margin-top: 6px;
      font-size: clamp(16px, 4.4vw, 22px);  /* bigger amounts */
      color:#222;
      font-weight:600;
    }

    /* Sticky footer */
    .footer{
      position: fixed;
      left:0; right:0; bottom:0;
      background:#fff;
      box-shadow: 0 -4px 14px rgba(0,0,0,.12);
      padding: 12px 16px calc(12px + env(safe-area-inset-bottom));
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:10px;
    }
    #total{
      font-size: clamp(20px, 5.5vw, 28px);
      font-weight: 800;
    }
    #resetBtn{
      width: min(92vw, var(--max-width));
      border:none;
      border-radius: 14px;
      background: var(--danger);
      color:#fff;
      padding: 14px;
      font-size: clamp(16px, 4.6vw, 20px);
      font-weight:700;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Weekly Spending Tracker</h1>
    <div id="categories" class="categories"></div>
  </div>

  <div class="footer">
    <div id="total">Total Spent: $0</div>
    <button id="resetBtn">Reset for New Week</button>
  </div>

  <script>
    const CATEGORY_LIST = [
      "Groceries","Entertainment","Bills","Stock","Alcohol",
      "Gifting","Fuel","Food","Bad Food","Coffee",
      "Tools","Transport","Adwords","Clothing","Misc1",
      "Misc2","Misc3","Misc4","Misc5","Misc6","Misc7"
    ];

    let totals = JSON.parse(localStorage.getItem("totals")) || {};

    const categoriesEl = document.getElementById("categories");
    const totalEl = document.getElementById("total");
    const resetBtn = document.getElementById("resetBtn");

    function render(){
      categoriesEl.innerHTML = "";
      let grand = 0;

      CATEGORY_LIST.forEach(cat=>{
        const cell = document.createElement("div");
        cell.className = "cat";

        const btn = document.createElement("button");
        btn.textContent = cat;
        btn.onclick = ()=> addExpense(cat);

        const amt = document.createElement("div");
        amt.className = "amount";
        amt.textContent = `$${(totals[cat]||0).toFixed(2)}`;

        cell.appendChild(btn);
        cell.appendChild(amt);
        categoriesEl.appendChild(cell);

        grand += totals[cat]||0;
      });

      totalEl.textContent = `Total Spent: $${grand.toFixed(2)}`;
      localStorage.setItem("totals", JSON.stringify(totals));
    }

    function addExpense(category){
      const amount = parseFloat(prompt(`Enter amount for ${category}:`));
      if (!isNaN(amount) && amount > 0){
        totals[category] = (totals[category] || 0) + amount;
        render();
      }
    }

    resetBtn.onclick = ()=>{
      if (confirm("Start a new week? This will clear all data.")){
        totals = {};
        render();
      }
    };

    render();
  </script>
</body>
</html>
